<div class="new-purches">
  <h1>Product recommendation</h1>
  <mat-tab-group [(selectedIndex)]="activePurchasTab">
    <mat-tab label="Product details">
      <div class="row">
        <div class="col-7">
          <div class="item">
            <div class="head">
              <em class="icon icon-close" id="close" (click)="close()"></em>
              <strong>Product details</strong>
            </div>
            <app-family (setBrickUuid)="selectedBrick($event)"></app-family>
            <app-criteria
              (selectedCriterias)="setCriterias($event)"
              [brick]="familyData"
            ></app-criteria>

            <app-labels
              (selectedLabels)="setLabels($event)"
              [criterias]="criteriaArray"
            ></app-labels>
          </div>
        </div>
        <div class="col-5">
          <div class="item" style="margin-bottom: 20px">
            <div class="track">
              <b>Track your progress</b>
              <strong>Product recommendation</strong>
              <div class="proggres">
                <span class="active"
                  >Select circular criteria
                  <em class="material-icons-outlined"> chevron_right </em>
                </span>
                <span></span>
                <span class="last"></span>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="right-info">
              <strong>About sustainability goals and criteria</strong>
              <b>How do circular criteria help tackle sustainability goals?</b>
              <span
                >The circular criteria help you select products that comply with
                circularity standards and climate legislation. For example, when
                you choose products manufactured using renewable energy and that
                consume lower energy during usage, you are complying with
                <b>EU Renewable Energy Directive.</b> While your municipality
                complies with EU climate legislation, it’s also helping reach
                2030 renewables target.</span
              >
              <div class="focus">
                <b>Want to learn more?</b>
                <a href="#"
                  >Click here to learn more about the circular criteria and how
                  they relate to each sustainability challenge.</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="supplier">
      <div class="row">
        <div class="col-7">
          <div class="item">
            <div class="head">
              <h2>&nbsp;</h2>
              <button (click)="setActiveTab(0)" class="btn-myenergy">
                <em class="material-icons-outlined"> chevron_left </em>GO BACK
              </button>
              <em class="icon icon-close" id="close" (click)="close()"></em>
            </div>
            <app-suppliers
              (Suppliers)="setSupplieries($event)"
              [supplierList]="supplierList"
            ></app-suppliers>
          </div>
        </div>
        <div class="col-5">
          <div class="item" style="margin-bottom: 20px">
            <div class="track">
              <b>Track your progress</b>
              <strong>Product recommendation</strong>
              <div class="proggres">
                <span class="pass" style="width: 33%"></span>
                <span class="active" style="width: 33%"
                  >Select suppliers
                  <em class="material-icons-outlined"> chevron_right </em>
                </span>

                <span class="last" style="width: 33%"></span>
              </div>
            </div>
          </div>
          <div class="item">
            <div class="right-info">
              <strong>About sustainability goals and criteria</strong>
              <b>How do circular criteria help tackle sustainability goals?</b>
              <span
                >The circular criteria help you select products that comply with
                circularity standards and climate legislation. For example, when
                you choose products manufactured using renewable energy and that
                consume lower energy during usage, you are complying with
                <b>EU Renewable Energy Directive.</b> While your municipality
                complies with EU climate legislation, it’s also helping reach
                2030 renewables target.</span
              >
              <div class="focus">
                <b>Want to learn more?</b>
                <a href="#"
                  >Click here to learn more about the circular criteria and how
                  they relate to each sustainability challenge.</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-tab>
    <mat-tab label="Confirm product request">
      <div class="row">
        <div class="col-7" *ngIf="allprocurementData">
          <div class="item">
            <div class="head">
              <h2>&nbsp;</h2>
              <button (click)="setActiveTab(1)" class="btn-myenergy">
                <em class="material-icons-outlined"> chevron_left </em>GO BACK
              </button>
              <em class="icon icon-close" id="close" (click)="close()"></em>
            </div>
            <strong>Confirm product request</strong>
            <div class="text-box">
              <label translate>Your message</label>
              <textarea type="text" class="form-control"> </textarea>
            </div>
            <div class="overview">
              <strong>Selected suppliers</strong>
              <div class="list">
                <div class="item" *ngFor="let sup of selectedSuppliers">
                  <strong>{{ sup }}</strong>
                  <span>Lerom ipsun</span>
                </div>
                <div class="item">
                  <strong>sup.name</strong>
                  <span>Lerom ipsun</span>
                </div>
              </div>
              <strong>*Product details</strong>
              <span class="family"
                >allprocurementData.familyUuid / allprocurementData.classUuid
              </span>
              <table>
                <tr>
                  <td><strong>[Brick] Product group</strong></td>
                  <td>
                    <span
                      >{{ allprocurementData.brickUuid }}
                      <em class="material-icons-outlined"> expand_more </em>
                    </span>
                  </td>
                </tr>
                <tr>
                  <td><strong>Product description</strong></td>
                  <td>
                    <span>{{ allprocurementData.description }}</span>
                  </td>
                </tr>
              </table>
              <strong> Selected circular criteria</strong>
              <div class="list">
                <div class="item" *ngFor="let item of allCriteria">
                  <strong>Resource depletion</strong>
                  <span
                    class="criteria"
                    [ngClass]="{ focus: cr.focus, selected: cr.selected }"
                    *ngFor="let cr of item.criteria"
                    ><em></em> {{ cr.name }}</span
                  >
                </div>
              </div>
              <strong>Selected labels</strong>
              <div class="list">
                <div class="item" *ngFor="let label of labelUuids">
                  <span style="margin-bottom: 20px">{{ label }}</span>
                  <img
                    src="https://upload.wikimedia.org/wikipedia/commons/1/10/BLUE_ANGEL_Logo.png"
                    alt=""
                  />
                  <div class="info green active">Resource depletion</div>
                  <div class="info green active">Resource depletion</div>
                  <div class="info green">Resource depletion</div>
                  <div class="info green">Resource depletion</div>
                </div>
              </div>
              <button
                type="submit"
                (click)="recommendationConfirm()"
                class="btn-myenergy bg-green center"
              >
                CONFIRM REQUEST
              </button>
            </div>
          </div>
        </div>
        <div class="col-5">
          <div class="item" style="margin-bottom: 20px">
            <div class="track">
              <b>Track your progress</b>
              <strong>Confirm product request</strong>
              <div class="proggres">
                <span class="pass" style="width: 29.5%"></span>
                <span class="pass" style="width: 29.5%"></span>
                <span class="active last" style="width: 40%"
                  >Confirm request
                  <em class="material-icons-outlined"> chevron_right </em>
                </span>

                <!-- <span class="last" style="width: 33%"></span> -->
              </div>
            </div>
          </div>
          <div class="item">
            <div class="right-info">
              <strong>About sustainability goals and criteria</strong>
              <b>How do circular criteria help tackle sustainability goals?</b>
              <span
                >The circular criteria help you select products that comply with
                circularity standards and climate legislation. For example, when
                you choose products manufactured using renewable energy and that
                consume lower energy during usage, you are complying with
                <b>EU Renewable Energy Directive.</b> While your municipality
                complies with EU climate legislation, it’s also helping reach
                2030 renewables target.</span
              >
              <div class="focus">
                <b>Want to learn more?</b>
                <a href="#"
                  >Click here to learn more about the circular criteria and how
                  they relate to each sustainability challenge.</a
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </mat-tab>
  </mat-tab-group>
</div>
